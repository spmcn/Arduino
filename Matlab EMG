
%fs is sampling frequency
fs = 

% Minimum and maximum cutoff frequencies in Hz, possibility of need to change to kHZ
wpass = [20,500];

% Bandpass filter for fatigue emg signal
emg_bandpass = bandpass(emg, wpass, fs);

% Butterworth Bandpass filter
% cutoff in kHz
fcutlow = 0.02;
fcuthigh = 0.5;
order = 4;
[b,a] = butter(order,[fcutlow,fcuthigh]/(fs/2),'bandpass');

%filtered emg signal
filtsig = filter(b,a,emg);  


% fft of filtered emg. If peak of fft is shited to left then there is onset of fatigue.
fft_emg1 = fft(emg_bandpass);
fft_emg2 = fft(emg_filtsig); 


% Get median emg frequency
% If median emg is shifted to lower frequencies, then there is onset of fatigue

mid_emg = medfreq(emg_bandpass);
mid_emg2 = medfreq(filtsig);

% Get mean emg frequency
avg_emg = meanfreq(emg_bandpass);
avg_emg2 = meanFreq(filtsig);






